<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<HBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="talentospidev.controllers.AdminDashboardController"
      stylesheets="@/style/app.css" style="-fx-background-color: #f0f2f5;">

    <!-- ======= LEFT SIDEBAR ======= -->
    <VBox styleClass="sidebar">
        <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-padding: 1 1 1 1;">
            <ImageView fitHeight="60" fitWidth="60" preserveRatio="true">
                <image>
                    <Image url="@/images/logo.png"/>
                </image>
            </ImageView>
            <Label text="Talentos" styleClass="sidebar-logo"/>
        </HBox>
        <Separator style="-fx-opacity: 0.1;"/>

        <Label text="MAIN" styleClass="sidebar-section-label"/>
        <Button text="ðŸ“Š  Dashboard" styleClass="sidebar-button-active" onAction="#handleDashboard"/>
        <Button text="ðŸ’¼  Job Offers" styleClass="sidebar-button" onAction="#handlePlaceholder"/>
        <Button text="ðŸ“š  Courses" styleClass="sidebar-button" onAction="#handlePlaceholder"/>
        <Button text="ðŸ“…  Events" styleClass="sidebar-button" onAction="#handlePlaceholder"/>

        <Region VBox.vgrow="ALWAYS"/>

        <Separator style="-fx-opacity: 0.1;"/>
        <Label text="ACCOUNT" styleClass="sidebar-section-label"/>
        <Button text="ðŸšª  Logout" styleClass="sidebar-button-danger" onAction="#handleLogout"/>
    </VBox>

    <!-- ======= MAIN CONTENT ======= -->
    <VBox HBox.hgrow="ALWAYS">

        <!-- Top Bar -->
        <HBox alignment="CENTER_LEFT" spacing="16" styleClass="top-bar">
            <VBox>
                <Label text="User Management" styleClass="page-title"/>
                <Label text="Manage all users and their accounts" styleClass="page-subtitle"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: #f3f4f6; -fx-background-radius: 8; -fx-padding: 2 12;">
                <Label text="ðŸ”" style="-fx-text-fill: #9ca3af;"/>
                <TextField fx:id="searchField" promptText="Search by name, job, location..." style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-padding: 8; -fx-pref-width: 240;"/>
            </HBox>
        </HBox>

        <!-- Stats Row -->
        <HBox spacing="16" style="-fx-padding: 16 24 0 24;">
            <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                <Label text="Total Users" style="-fx-font-size: 11px; -fx-text-fill: #9ca3af; -fx-font-weight: bold;"/>
                <Label fx:id="totalUsersLabel" text="0" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
            </VBox>
            <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                <Label text="Active" style="-fx-font-size: 11px; -fx-text-fill: #9ca3af; -fx-font-weight: bold;"/>
                <Label fx:id="activeUsersLabel" text="0" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #22c55e;"/>
            </VBox>
            <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                <Label text="Candidates" style="-fx-font-size: 11px; -fx-text-fill: #9ca3af; -fx-font-weight: bold;"/>
                <Label fx:id="candidatesLabel" text="0" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #3b82f6;"/>
            </VBox>
            <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                <Label text="Recruiters" style="-fx-font-size: 11px; -fx-text-fill: #9ca3af; -fx-font-weight: bold;"/>
                <Label fx:id="recruitersLabel" text="0" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #8b5cf6;"/>
            </VBox>
        </HBox>

        <!-- Sort Toolbar -->
        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="sort-toolbar" style="-fx-padding: 8 24;">
            <Label text="Sort by:" style="-fx-font-size: 12px; -fx-text-fill: #6b7280; -fx-font-weight: bold;"/>
            <ComboBox fx:id="sortByBox" promptText="Sort by"/>
            <ComboBox fx:id="sortOrderBox" promptText="Order"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="Filter:" style="-fx-font-size: 12px; -fx-text-fill: #6b7280; -fx-font-weight: bold;"/>
            <ComboBox fx:id="roleFilterBox" promptText="All roles"/>
        </HBox>

        <!-- User List -->
        <VBox spacing="12" styleClass="content-area" VBox.vgrow="ALWAYS">
            <ListView fx:id="userListView" VBox.vgrow="ALWAYS"/>
        </VBox>
    </VBox>
</HBox>
