<?xml version="1.0" encoding="UTF-8"?>

        <?import javafx.scene.control.*?>
        <?import javafx.scene.layout.*?>
        <?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="talentos.pidev.controllers.ApplicationsCardController"
            styleClass="content">

    <top>
        <VBox spacing="15" styleClass="card">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="ðŸ“‹ Gestion des candidatures" styleClass="page-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="totalApplicationsLabel" styleClass="total-label"/>
                <Button text="ðŸ”„ Actualiser" onAction="#loadApplications" styleClass="btn-info"/>
            </HBox>

            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="20"/>
                    <ColumnConstraints percentWidth="30"/>
                    <ColumnConstraints percentWidth="20"/>
                    <ColumnConstraints percentWidth="30"/>
                </columnConstraints>

                <!-- Ligne 1 : Recherche -->
                <Label text="Rechercher:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <TextField fx:id="searchField" promptText="Nom ou email du candidat..."
                           GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.rowIndex="0"/>

                <!-- Ligne 2 : Statut et Offre -->
                <Label text="Statut:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <ComboBox fx:id="statusFilter" promptText="Filtrer par statut"
                          GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                <Label text="Offre:" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                <ComboBox fx:id="offerFilter" promptText="Filtrer par offre"
                          GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                <!-- Ligne 3 : Dates -->
                <Label text="Du:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <DatePicker fx:id="fromDatePicker" promptText="Date dÃ©but"
                            GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                <Label text="Au:" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                <HBox spacing="10" GridPane.columnIndex="3" GridPane.rowIndex="2" alignment="CENTER_RIGHT">
                    <DatePicker fx:id="toDatePicker" promptText="Date fin" HBox.hgrow="ALWAYS"/>
                    <Button text="RÃ©initialiser" onAction="#loadApplications" styleClass="btn-secondary"/>
                </HBox>
            </GridPane>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="card-scroll">
            <FlowPane fx:id="cardsContainer"
                      hgap="20"
                      vgap="20"
                      alignment="TOP_CENTER">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
            </FlowPane>
        </ScrollPane>
    </center>

</BorderPane>
