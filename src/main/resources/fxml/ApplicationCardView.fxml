<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="talentos.pidev.controllers.ApplicationsCardController"
            styleClass="content">

    <top>
        <VBox spacing="16" styleClass="filter-panel">
            <padding>
                <Insets top="24" right="24" bottom="20" left="24"/>
            </padding>

            <!-- Title row -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="ðŸ‘¥" style="-fx-font-size: 24px;"/>
                <Label text="Gestion des candidatures" styleClass="page-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="totalApplicationsLabel" styleClass="total-label"/>
                <Button text="ðŸ”„ Actualiser" onAction="#loadApplications" styleClass="btn-info"/>
            </HBox>

            <!-- Search bar -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="ðŸ”" styleClass="search-icon"/>
                <TextField fx:id="searchField" promptText="Rechercher par nom ou email du candidat..."
                           styleClass="search-field" HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Filters row 1 -->
            <HBox spacing="16" alignment="CENTER_LEFT">
                <Label text="Statut" styleClass="filter-label"/>
                <ComboBox fx:id="statusFilter" promptText="Filtrer par statut" prefWidth="180"/>

                <Region prefWidth="8"/>

                <Label text="Offre" styleClass="filter-label"/>
                <ComboBox fx:id="offerFilter" promptText="Filtrer par offre" prefWidth="200" HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Filters row 2: dates -->
            <HBox spacing="16" alignment="CENTER_LEFT">
                <Label text="Du" styleClass="filter-label"/>
                <DatePicker fx:id="fromDatePicker" promptText="Date dÃ©but" prefWidth="180"/>

                <Region prefWidth="8"/>

                <Label text="Au" styleClass="filter-label"/>
                <DatePicker fx:id="toDatePicker" promptText="Date fin" prefWidth="180"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="RÃ©initialiser" onAction="#loadApplications" styleClass="btn-secondary"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="card-scroll">
            <FlowPane fx:id="cardsContainer"
                      hgap="20"
                      vgap="20"
                      alignment="TOP_CENTER">
                <padding>
                    <Insets top="20" right="24" bottom="24" left="24"/>
                </padding>
            </FlowPane>
        </ScrollPane>
    </center>

</BorderPane>
